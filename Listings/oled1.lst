


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             |.text|, CODE, READONLY
    2 00000000                 EXPORT           display_oled
    3 00000000                 PRESERVE8                    ; æ˜¾å¼å£°æ˜ä¿æŒ
                                                             8 å­—èŠ‚å¯¹é½
    4 00000000         
    5 00000000         ; å£°æ˜å¤–éƒ¨å‡½æ•° OLED_ShowNum
    6 00000000                 IMPORT           OLED_ShowNum
    7 00000000         
    8 00000000         display_oled
                               PROC
    9 00000000 B5F0            PUSH             {r4-r7, lr} ; ä¿å­˜å¯„å­˜å™¨å’
                                                            Œè¿”å›åœ°å€
   10 00000002 B081            SUB              SP, SP, #4  ; è°ƒæ•´æ ˆæŒ‡é’ˆï¼
                                                            Œç¡®ä¿ 8 å­—èŠ‚å¯¹
                                                            é½ï¼ˆPUSH å‹å…¥ 5
                                                             ä¸ªå¯„å­˜å™¨ = 20 
                                                            å­—èŠ‚ï¼‰
   11 00000004         
   12 00000004         ; ä¿å­˜ä¼ å…¥çš„å‚æ•°
   13 00000004 4604            MOV              r4, r0      ; r4 = sensor_cnt
   14 00000006 460D            MOV              r5, r1      ; r5 = Angle (å‡è®
                                                            ¾ä¸ºæ•´æ•°ä¼ é€’)
   15 00000008 4616            MOV              r6, r2      ; r6 = Num
   16 0000000A 461F            MOV              r7, r3      ; r7 = is_ok
   17 0000000C         
   18 0000000C         ; è°ƒç”¨ OLED_ShowNum(1, 7, sensor_cnt, 5)
   19 0000000C F04F 0001       MOV              r0, #1      ; è¡Œå· = 1
   20 00000010 F04F 0107       MOV              r1, #7      ; åˆ—å· = 7
   21 00000014 4622            MOV              r2, r4      ; å€¼ = sensor_cnt
   22 00000016 F04F 0305       MOV              r3, #5      ; ä½æ•° = 5
   23 0000001A F7FF FFFE       BL               OLED_ShowNum ; è°ƒç”¨ C å‡½æ•°
   24 0000001E         
   25 0000001E         ; è°ƒç”¨ OLED_ShowNum(2, 7, Angle, 5)
   26 0000001E F04F 0002       MOV              r0, #2      ; è¡Œå· = 2
   27 00000022 F04F 0107       MOV              r1, #7      ; åˆ—å· = 7
   28 00000026 462A            MOV              r2, r5      ; å€¼ = Angle
   29 00000028 F04F 0305       MOV              r3, #5      ; ä½æ•° = 5
   30 0000002C F7FF FFFE       BL               OLED_ShowNum ; è°ƒç”¨ C å‡½æ•°
   31 00000030         
   32 00000030         ; è°ƒç”¨ OLED_ShowNum(3, 7, Num, 5)
   33 00000030 F04F 0003       MOV              r0, #3      ; è¡Œå· = 3
   34 00000034 F04F 0107       MOV              r1, #7      ; åˆ—å· = 7
   35 00000038 4632            MOV              r2, r6      ; å€¼ = Num
   36 0000003A F04F 0305       MOV              r3, #5      ; ä½æ•° = 5
   37 0000003E F7FF FFFE       BL               OLED_ShowNum ; è°ƒç”¨ C å‡½æ•°
   38 00000042         
   39 00000042         ; è°ƒç”¨ OLED_ShowNum(4, 1, is_ok, 5)
   40 00000042 F04F 0004       MOV              r0, #4      ; è¡Œå· = 4
   41 00000046 F04F 0101       MOV              r1, #1      ; åˆ—å· = 1
   42 0000004A 463A            MOV              r2, r7      ; å€¼ = is_ok
   43 0000004C F04F 0305       MOV              r3, #5      ; ä½æ•° = 5
   44 00000050 F7FF FFFE       BL               OLED_ShowNum ; è°ƒç”¨ C å‡½æ•°
   45 00000054         
   46 00000054 B001            ADD              SP, SP, #4  ; æ¢å¤æ ˆæŒ‡é’ˆ
   47 00000056 BDF0            POP              {r4-r7, pc} ; æ¢å¤å¯„å­˜å™¨å¹
                                                            ¶è¿”å›
   48 00000058         
   49 00000058                 ENDP
   50 00000058                 END



ARM Macro Assembler    Page 2 


Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\oled1.d -o.\objects\oled1.o -I.\RTE\_Target_1 -IE:\keil\
ARM\PACK\Keil\STM32F1xx_DFP\2.2.0\Device\Include -IE:\keil\ARM\CMSIS\Include --
predefine="__UVISION_VERSION SETA 524" --predefine="STM32F10X_MD SETA 1" --list
=.\listings\oled1.lst User\OLED1.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 1 in file User\OLED1.s
   Uses
      None
Comment: .text unused
display_oled 00000000

Symbol: display_oled
   Definitions
      At line 8 in file User\OLED1.s
   Uses
      At line 2 in file User\OLED1.s
Comment: display_oled used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

OLED_ShowNum 00000000

Symbol: OLED_ShowNum
   Definitions
      At line 6 in file User\OLED1.s
   Uses
      At line 23 in file User\OLED1.s
      At line 30 in file User\OLED1.s
      At line 37 in file User\OLED1.s
      At line 44 in file User\OLED1.s

1 symbol
335 symbols in table
